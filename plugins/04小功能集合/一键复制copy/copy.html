<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>一键复制</title>
		<style type="text/css">
			.copyBox_textarea {}
			
			.copyBox_btn button {}
			
			.copyBox_btn img {}
		</style>
	</head>

	<body>
		<div id="copyBox">
			<textarea class="copyBox_textarea" name="" rows="" cols="">65465456464</textarea>
			<div class="copyBox_btn"></div>
		</div>
	</body>
	<script type="text/javascript">
		copyToClipboard('copyBox');
		function copyToClipboard(copyBox) { //textArea:表单元素
			var Box = document.getElementById(copyBox),
				btn = Box.querySelector('.copyBox_btn'),
				textArea = Box.querySelector('.copyBox_textarea'),
				btn_Html = '',
				is_success;
			if((navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i))) {
				btn_Html += Boolean(navigator.userAgent.match(/OS [5-9]_\d[_\d]* like Mac OS X/i)) ? '<img src="xxx.jpg" alt="请长按复制" />' : '<button>一键复制</button>';
			} else {
				btn_Html += '<button>一键复制</button>';
			}
			btn.innerHTML = btn_Html;
			btn.addEventListener('click', function(e) {
				if(e.target.tagName.toUpperCase() === 'BUTTON') {
					textArea.focus();
					textArea.setSelectionRange(0, textArea.value.length);
					if(document.execCommand("copy")){
						alert('成功执行函数')
					}else{
						alert('失败执行函数')
					}
					textArea.blur();
				}
			});
			
		}
	</script>

</html>