import{x as m,R as c,S as F,y as n,O as w,ai as x,aj as Y,a9 as b,t as p,ab as J,H as A,P as _,J as I,a7 as Z,I as L,a8 as k,v as T,a6 as Q,V as a,K as f}from"./vue-vendor-CBWqSecY.js";import{_ as U,u as ee}from"./index-CeCWiIwx.js";import{E as ie,a as te,b as ne,c as se,d as oe,e as re}from"./element-plus-D3uYyPDW.js";const le=function(i){return{w:i.columns.length,h:i.rows.length}},ae=function(i){return i.areas.filter(e=>e.x<0||e.y<0||e.x>=i.columns.length||e.y>=i.rows.length)},X=function(i){return i.areas.filter(e=>!(e.x<0||e.y<0||e.x>=i.columns.length||e.y>=i.rows.length))},$=function(i){return i.rows.map((e,t)=>'"'+i.columns.map((l,s)=>{let r=i.dragAreas||i.areas,o=D(r,{x:s,y:t,w:1,h:1});return o?o.label:"."}).join(" ")+'"').join(`
`)},de=function(i){return{display:"grid",gridTemplateRows:i.rows.reduce((e,t)=>{const l=`minmax(35px, ${t.units==="auto"?"auto":t.size+t.units}) `;return e+l},""),gridTemplateColumns:i.columns.reduce((e,t)=>{const l=`minmax(48px, ${t.units==="auto"?"auto":t.size+t.units}) `;return e+l},""),gridColumnGap:i.colGap.size&&i.colGap.units?i.colGap.size+i.colGap.units:void 0,gridRowGap:i.rowGap.size&&i.rowGap.units?i.rowGap.size+i.rowGap.units:void 0,justifyItems:i.justify.value?i.justify.value:void 0,alignItems:i.align.value?i.align.value:void 0,gridTemplateAreas:$(i),padding:`${i.padding.top}px ${i.padding.right}px ${i.padding.bottom}px ${i.padding.left}px`}},B=function(i,e){return e.id==="placeholder"?{backgroundColor:"rgba(0,0,0,0.2)",border:"3px solid #333",position:"absolute",top:0,left:0,height:e.h,width:e.w,transform:"translate("+e.x+"px,"+e.y+"px)"}:{border:"1px dotted #fff",backgroundColor:N(e.label),gridArea:e.label,display:e.x<0||e.y<0||e.x>=i.columns.length||e.y>=i.rows.length?"none":"block"}},pe=function(i){return`@supports (grid-area: auto) {
    .grid-container{
      display: grid;
      grid-template-columns: ${i.columns.reduce((e,t)=>e+(t.units==="auto"?"":t.size)+t.units+" ","").trim()};
      grid-template-rows: ${i.rows.reduce((e,t)=>e+(t.units==="auto"?"":t.size)+t.units+" ","").trim()};
      ${i.colGap.size&&i.colGap.units?"grid-column-gap: "+i.colGap.size+i.colGap.units+";":""}
      ${i.rowGap.size&&i.rowGap.units?"grid-row-gap: "+i.rowGap.size+i.rowGap.units+";":""}
      ${i.justify.value?"justify-items: "+i.justify.value+";":""}
      ${i.align.value?"align-items: "+i.align.value+";":""}
  grid-template-areas:${$(i)};
      padding: ${`${i.padding.top}px ${i.padding.right}px ${i.padding.bottom}px ${i.padding.left}px`};
    }
    ${X(i).sort((e,t)=>e.label>t.label).map(e=>"."+e.label+" {grid-area: "+e.label+";}").join(`\r
    `)}
}`.replace(/ {4}\n/g,"")},S=function(i,e){return i.map(t=>`minmax(${e}, ${t.units==="auto"?"auto":t.size+t.units})`).join(" ")},ue=function(i,e){i.val=e},O=function(i,e){i.areas=e},G=function(i,e){i.dragAreas=e},C=function(i,e){i.dragAreas.push(e)},ge=function(i,e){let t=i.areas.length+1;for(;i.areas.find(l=>l.id===t);)t++;for(;i.areas.find(l=>l.label==="area"+t);)t++;i.areas.push(z(i.areas,{x:0,y:0,w:1,h:1,label:"area"+t,id:t},i.columns.length-1,i.rows.length-1))},me=function(i,e){if(e){let t=i.areas.findIndex(l=>l.id===e.id);t>=0&&i.areas.splice(t,1)}else i.areas.pop()},fe=function(i){if(i.rows.push(Object.assign({},i.rows[i.rows.length-1])),i.areas.filter(e=>e.x<0).length){let e=i.areas.filter(t=>t.x>=0);i.areas.filter(t=>t.x<0).forEach(t=>{e.push(z(e,t,i.columns.length-1,i.rows.length-1))}),i.areas=e}},he=function(i,e){if(e){let t=i.rows.findIndex(l=>l===e);t>=0&&i.rows.splice(t,1)}else i.rows.pop()},ce=function(i){if(i.columns.push(Object.assign({},i.columns[i.columns.length-1])),i.areas.filter(e=>e.x<0).length){let e=i.areas.filter(t=>t.x>=0);i.areas.filter(t=>t.x<0).forEach(t=>{e.push(z(e,t,i.columns.length-1,i.rows.length-1))}),i.areas=e}},ve=function(i,e){if(e){let t=i.columns.findIndex(l=>l===e);t>=0&&i.columns.splice(t,1)}else i.columns.pop()},D=(i,e)=>{for(let t=0;t<i.length;t++)if(i[t].x<e.x+e.w&&i[t].x+i[t].w>e.x&&i[t].y<e.y+e.h&&i[t].y+i[t].h>e.y)return i[t];return!1},z=(i,e,t,l)=>{var s=j(e);(s.x<0||s.x>t)&&(s.x=0),(s.y<0||s.y>l)&&(s.y=0);let r=s.x,o=s.y;for(;D(i,s);)if(s.y=s.y+1,s.y>l&&(s.y=0),s.y===o&&(s.x=s.x+1,s.x>t&&(s.x=0)),s.y===o&&s.x===r)return s.y=-1,s.x=-1,s;return s},j=i=>Object.assign({},i),R=i=>i.map(e=>j(e)),we=i=>i.split("").reverse().join(""),N=i=>{let e=("000000"+(parseInt(we(i),36)&16777215).toString(16).toUpperCase()).slice(-6);return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+",0.5)"};/*!
 * function copyTextToClipboard(text) from  https://stackoverflow.com/a/30810322
 */const xe=i=>{var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=i,document.body.appendChild(e),e.select();try{document.execCommand("copy"),alert("Copied !")}catch{}document.body.removeChild(e)},M=Object.freeze(Object.defineProperty({__proto__:null,action:ue,addArea:ge,addColumn:ce,addDragArea:C,addRow:fe,areaAt:D,cloneItem:j,cloneLayout:R,copyTextToClipboard:xe,css:pe,getGridString:S,gridSize:le,gridStyle:de,gridTemplateAreas:$,itemStyle:B,moveToFreePlace:z,overflowAreas:ae,removeArea:me,removeColumn:ve,removeRow:he,setAreas:O,setDragAreas:G,stringToRGBA:N,validAreas:X},Symbol.toStringTag,{value:"Module"})),ye={name:"editor",props:{options:{type:Object,required:!0}},data(){return{util:M}},methods:{}},ze={class:"editor"},be={class:"flex-grow flex-col"},_e={class:"inputs"},Se={class:"input flex-row justify-between"},Ge={class:"input flex-row justify-between"},Ce={class:"input flex-row justify-between"},Ee={class:"input flex-row justify-between"},Le={class:"grid-box"},ke={class:"area1"},Ae={class:"area2"},Ue={class:"area3"},je={class:"area4"},Ve={class:"flex-grow overflow-hidden",style:{"margin-top":"10px"}},Te={class:"flex-row justify-between items-center"},Ie={class:"css-output"};function Oe(i,e,t,l,s,r){return p(),m("div",ze,[c(n("div",be,[n("div",_e,[n("div",Se,[n("p",null,"面板: "+w(t.options.areas.length),1),n("button",{class:"input__button input__button--add",onClick:e[0]||(e[0]=o=>s.util.addArea(t.options))}," + 面板 ")]),n("div",Ge,[n("p",null,"列    : "+w(t.options.columns.length),1),n("button",{class:"input__button input__button--add",onClick:e[1]||(e[1]=o=>s.util.addColumn(t.options))}," + 列 "),n("p",null,"行    : "+w(t.options.rows.length),1),n("button",{class:"input__button input__button--add",onClick:e[2]||(e[2]=o=>s.util.addRow(t.options))}," + 行 ")]),n("div",Ce,[e[13]||(e[13]=n("p",null,"列间距",-1)),c(n("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.options.colGap.size=o),class:"input__input--size",type:"number",name:"size",size:"5"},null,512),[[x,t.options.colGap.size]]),c(n("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.options.colGap.units=o)},[...e[12]||(e[12]=[n("option",{val:"%"},"%",-1),n("option",{val:"em"},"em",-1),n("option",{val:"rem"},"rem",-1),n("option",{val:"px"},"px",-1)])],512),[[Y,t.options.colGap.units]])]),n("div",Ee,[e[15]||(e[15]=n("p",null,"行间距",-1)),c(n("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>t.options.rowGap.size=o),class:"input__input--size",type:"number",name:"size",size:"5"},null,512),[[x,t.options.rowGap.size]]),c(n("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.options.rowGap.units=o)},[...e[14]||(e[14]=[n("option",{val:"%"},"%",-1),n("option",{val:"em"},"em",-1),n("option",{val:"rem"},"rem",-1),n("option",{val:"px"},"px",-1)])],512),[[Y,t.options.rowGap.units]])]),n("div",Le,[n("div",ke,[e[16]||(e[16]=n("p",null,"top",-1)),c(n("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>t.options.padding.top=o),class:"input__input--size",type:"number",name:"size",size:"5"},null,512),[[x,t.options.padding.top]])]),n("div",Ae,[e[17]||(e[17]=n("p",null,"right",-1)),c(n("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.options.padding.right=o),class:"input__input--size",type:"number",name:"size",size:"5"},null,512),[[x,t.options.padding.right]])]),n("div",Ue,[e[18]||(e[18]=n("p",null,"bottom",-1)),c(n("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>t.options.padding.bottom=o),class:"input__input--size",type:"number",name:"size",size:"5"},null,512),[[x,t.options.padding.bottom]])]),n("div",je,[e[19]||(e[19]=n("p",null,"left",-1)),c(n("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>t.options.padding.left=o),class:"input__input--size",type:"number",name:"size",size:"5"},null,512),[[x,t.options.padding.left]])]),e[20]||(e[20]=n("div",{class:"area5"},"padding",-1))])]),n("div",Ve,[n("div",Te,[e[21]||(e[21]=b(" CSS: ",-1)),n("button",{class:"input__button button--clipboard",onClick:e[11]||(e[11]=o=>s.util.copyTextToClipboard(s.util.css(t.options)))}," 一键复制 ")]),n("div",Ie,w(s.util.css(t.options)),1)])],512),[[F,t.options.editable]])])}const q=U(ye,[["render",Oe]]),Re="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1695265380564'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='16247'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='16'%20height='16'%3e%3cpath%20d='M960.34787813%20969.14535199L775.22359186%20969.14535199%20775.22359186%20784.02106567%20960.34787813%20784.02106566%20960.34787813%20969.14535199M960.34787813%20598.89678159L775.22359186%20598.89678159%20775.22359186%20413.77249745%20960.34787817%20413.77249745%20960.34787813%20598.89678159M590.09930773%20969.14535199L404.97502363%20969.14535199%20404.97502363%20784.02106567%20590.09930773%20784.02106567%20590.09930773%20969.14535199M590.09930773%20598.89678159L404.97502363%20598.89678159%20404.97502363%20413.77249745%20590.09930773%20413.77249745%20590.09930773%20598.89678159M219.85073735%20969.14535199L34.72645324%20969.14535199%2034.72645324%20784.02106567%20219.85073735%20784.02106566%20219.85073735%20969.14535199M960.34787813%20228.64821118L775.22359186%20228.64821118%20775.22359186%2043.52392706%20960.34787813%2043.52392706%20960.34787813%20228.64821118Z'%20p-id='16248'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",$e={name:"grid-item",props:{options:{type:Object,required:!0},item:{type:Object,required:!0}},data(){return{renaming:!1,renamingLabel:"",util:M}},computed:{style(){return B(this.options,this.item)},classes(){return{"grid-area":!0,dragging:this.item.dragging,resizing:this.item.resizing}},gridOrigin:function(){return this.$parent.$refs&&this.$parent.$refs.gridContainer?{x:this.$parent.$refs.gridContainer.offsetLeft,y:this.$parent.$refs.gridContainer.offsetTop}:{x:0,y:0}}},directives:{focusoninsert:{inserted:function(i){i.focus()}}},methods:{handleRename:function(){if(!this.renaming||!this.renamingLabel||this.options.areas.find(i=>i.label===this.renamingLabel)){this.renamingLabel="",this.renaming=!1;return}this.item.label=this.renamingLabel.replace(/ /g,"-"),this.renamingLabel="",this.renaming=!1}},mounted(){this.$refs.label&&this.$refs.label.addEventListener("mousedown",i=>{i.button===0&&(this.renaming=!0,this.renamingLabel=this.item.label,i.preventDefault(),i.stopPropagation())}),this.$el.addEventListener("mousedown",i=>{if(!this.options.editable||i.button!==0||i.target.localName==="input"||i.target.localName==="span")return;i.preventDefault();let e={x:i.pageX-this.gridOrigin.x,y:i.pageY-this.gridOrigin.y},t={x:i.target.clientWidth,y:i.target.clientHeight};this.$emit("dragStart",{item:this.item,offset:e,targetDimensions:t});let l=i.clientX,s=i.clientY;const r=d=>{window.removeEventListener("mouseup",r,!0),window.removeEventListener("mousemove",o,!0);var y={x:d.clientX-l,y:d.clientY-s};this.$emit("dragEnd",{offset:y})},o=d=>{let y={x:d.pageX-this.gridOrigin.x,y:d.pageY-this.gridOrigin.y};this.$emit("dragUpdate",{offset:y})};window.addEventListener("mouseup",r,!0),window.addEventListener("mousemove",o,!0)}),this.$resizeHandle=this.$refs.resizeHandle,this.$resizeHandle&&this.$resizeHandle.addEventListener("mousedown",i=>{i.preventDefault(),i.stopPropagation();let e={x:i.pageX-this.gridOrigin.x,y:i.pageY-this.gridOrigin.y};this.$emit("resizeStart",{item:this.item,offset:e});let t=i.clientX,l=i.clientY;const s=o=>{window.removeEventListener("mouseup",s,!0),window.removeEventListener("mousemove",r,!0);var d={x:o.clientX-t,y:o.clientY-l};this.$emit("resizeEnd",{offset:d})},r=o=>{var d={x:o.clientX-t,y:o.clientY-l};this.$emit("resizeUpdate",{offset:d})};window.addEventListener("mouseup",s,!0),window.addEventListener("mousemove",r,!0)})}},De={class:"resize-handle",ref:"resizeHandle"};function Me(i,e,t,l,s,r){const o=Z("focusoninsert");return p(),m("div",{class:I(r.classes),style:_(r.style)},[s.renaming?c((p(),m("input",{key:0,type:"text","onUpdate:modelValue":e[0]||(e[0]=d=>s.renamingLabel=d),onBlur:e[1]||(e[1]=(...d)=>r.handleRename&&r.handleRename(...d)),onKeypress:e[2]||(e[2]=J((...d)=>r.handleRename&&r.handleRename(...d),["enter"])),class:"input--rename"},null,544)),[[x,s.renamingLabel],[o]]):A("",!0),n("span",{class:"text",ref:"label"},w(t.item.label),513),n("span",{class:"remove-button",onClick:e[3]||(e[3]=d=>s.util.removeArea(t.options,t.item))},"╳"),n("div",De,[...e[4]||(e[4]=[n("img",{class:"img--resize_handle",src:Re},null,-1)])],512)],6)}const W=U($e,[["render",Me],["__scopeId","data-v-01da5b7f"]]),He={name:"grid-container",components:{GridItem:W},props:{options:{type:Object,required:!0}},data(){return{placeholder:{hidden:!0,x:0,y:0,w:1,h:1,label:"placeholder",id:"placeholder"},dragging:{item:null,offset:{x:0,y:0}},resizing:{item:null,offset:{x:0,y:0}},initialLayout:void 0,util:M,popoverState:{visible:!1,type:null,index:-1,tempSize:0,tempUnits:""}}},methods:{dragStart:function({item:i,offset:e,targetDimensions:t}){this.dragging.item=i,this.placeholder=j(this.dragging.item),this.dragging.item.dragging=!0,this.placeholder.label="",this.placeholder.id="placeholder",this.placeholder.w=t.x+"px",this.placeholder.h=t.y+"px",this.placeholder.xCorrection=t.x/2,this.placeholder.yCorrection=t.y/2,this.placeholder.x=e.x-this.placeholder.xCorrection,this.placeholder.y=e.y-this.placeholder.yCorrection,this.initialLayout=R(this.options.areas)},dragUpdate:function(i){if(!this.dragging.item)return;this.dragging.offset=i.offset,this.placeholder.x=i.offset.x-this.placeholder.xCorrection,this.placeholder.y=i.offset.y-this.placeholder.yCorrection;let e=document.querySelector(".dragging");e&&(G(this.options,[]),C(this.options,this.dragging.item),this.dragging.offset.x>e.offsetLeft+e.offsetWidth&&(this.dragging.item.x=this.dragging.item.x+1),this.dragging.offset.x<e.offsetLeft&&(this.dragging.item.x=this.dragging.item.x-1),this.dragging.item.x<0&&(this.dragging.item.x=0),this.dragging.item.x>=this.options.columns.length&&(this.dragging.item.x=this.options.columns.length-1),this.dragging.offset.y>e.offsetTop+e.offsetHeight&&(this.dragging.item.y=this.dragging.item.y+1),this.dragging.offset.y<e.offsetTop&&(this.dragging.item.y=this.dragging.item.y-1),this.dragging.item.y<0&&(this.dragging.item.y=0),this.dragging.item.y>=this.options.rows.length&&(this.dragging.item.y=this.options.rows.length-1),this.initialLayout.forEach(t=>{t.id!==this.dragging.item.id&&C(this.options,z(this.options.dragAreas,t,this.options.columns.length-1,this.options.rows.length-1))}))},dragEnd:function(i){this.dragging.item&&(this.options.dragAreas&&O(this.options,this.options.dragAreas),delete this.dragging.item.dragging,this.dragging.item=null,this.dragging.offset.x=0,this.dragging.offset.y=0,G(this.options,null))},resizeStart:function({item:i,offset:e}){this.resizing.item=i,this.resizing.item.resizing=!0,this.resizing.offsetStart=e,this.initialLayout=R(this.options.areas)},resizeUpdate:function(i){if(!this.resizing.item)return;let e=this.resizing.offset||{x:0,y:0};this.resizing.offset=i.offset,G(this.options,[]),C(this.options,this.resizing.item);let t=document.querySelector(".resizing");t&&(e.x<this.resizing.offset.x&&this.resizing.offset.x+this.resizing.offsetStart.x>t.offsetLeft+t.offsetWidth&&(this.resizing.item.w=this.resizing.item.w+1),e.x>this.resizing.offset.x&&this.resizing.offset.x+this.resizing.offsetStart.x<t.offsetLeft+t.offsetWidth&&(this.resizing.item.w=this.resizing.item.w-1),this.resizing.item.w<1&&(this.resizing.item.w=1),this.resizing.item.w+this.resizing.item.x>this.options.columns.length&&(this.resizing.item.w=this.options.columns.length-this.resizing.item.x),e.y<this.resizing.offset.y&&this.resizing.offset.y+this.resizing.offsetStart.y>t.offsetTop+t.offsetHeight&&(this.resizing.item.h=this.resizing.item.h+1),e.y>this.resizing.offset.y&&this.resizing.offset.y+this.resizing.offsetStart.y<t.offsetTop+t.offsetHeight&&(this.resizing.item.h=this.resizing.item.h-1),this.resizing.item.h<1&&(this.resizing.item.h=1),this.resizing.item.h+this.resizing.item.y>this.options.rows.length&&(this.resizing.item.h=this.options.rows.length-this.resizing.item.y),this.initialLayout.forEach(l=>{l.id!==this.resizing.item.id&&C(this.options,z(this.options.dragAreas,l,this.options.columns.length-1,this.options.rows.length-1))}))},resizeEnd:function(i){this.resizing.item&&(this.options.dragAreas&&O(this.options,this.options.dragAreas),delete this.resizing.item.resizing,this.resizing.item=null,this.resizing.offset.x=0,this.resizing.offset.y=0,G(this.options,null))},getGridAreaString(i,e){return`"${i.map((l,s)=>e.map((r,o)=>`area${s}${o}`).join(" ")).join('" "')}"`},getGridContainerStyle(i){return{display:"grid",...{row:{"grid-template-columns":S(this.options.columns,"48px"),"grid-template-rows":"1fr","grid-template-areas":this.getGridAreaString([0],this.options.columns),"grid-column-gap":`${this.options.colGap.size}${this.options.colGap.units}`,"grid-row-gap":`${this.options.rowGap.size}${this.options.rowGap.units}`},col:{"grid-template-columns":"1fr","grid-template-rows":S(this.options.rows,"35px"),"grid-template-areas":this.getGridAreaString(this.options.rows,[0]),"grid-column-gap":`${this.options.colGap.size}${this.options.colGap.units}`,"grid-row-gap":`${this.options.rowGap.size}${this.options.rowGap.units}`},total:{"grid-template-columns":S(this.options.columns,"48px"),"grid-template-rows":S(this.options.rows,"35px"),"grid-template-areas":this.getGridAreaString(this.options.rows,this.options.columns),"grid-column-gap":`${this.options.colGap.size}${this.options.colGap.units}`,"grid-row-gap":`${this.options.rowGap.size}${this.options.rowGap.units}`}}[i],padding:`${this.options.padding.top}px ${this.options.padding.right}px ${this.options.padding.bottom}px ${this.options.padding.left}px`}},getGridSplitHtml(){return this.options.rows.map((i,e)=>this.options.columns.map((t,l)=>`<div class="split-area area${e}${l}"></div>`).join("")).join("")},openEditPopover(i,e){const t=i==="row"?this.options.rows[e]:this.options.columns[e];this.popoverState={visible:!0,type:i,index:e,tempSize:t.size,tempUnits:t.units}},confirmEdit(){const{type:i,index:e,tempSize:t,tempUnits:l}=this.popoverState;i==="row"?(this.options.rows[e].size=t,this.options.rows[e].units=l):(this.options.columns[e].size=t,this.options.columns[e].units=l),this.closePopover()},cancelEdit(){this.closePopover()},closePopover(){this.popoverState.visible=!1}}},Pe={class:"grid-edit-container"},Ye={class:"flex-row relative"},Xe=["onClick"],Be={class:"size-edit-popover"},Ne={class:"popover-body"},qe={class:"form-row"},We={class:"form-row"},Ke={class:"popover-footer"},Fe=["onClick"],Je={class:"flex-row"},Ze=["onClick"],Qe={class:"size-edit-popover"},ei={class:"popover-body"},ii={class:"form-row"},ti={class:"form-row"},ni={class:"popover-footer"},si=["onClick"],oi=["innerHTML"];function ri(i,e,t,l,s,r){const o=Q("Edit"),d=oe,y=ie,u=ne,H=te,E=se,P=re,V=W;return p(),m("div",Pe,[n("div",{class:"grid-edit-row-container",style:_(r.getGridContainerStyle("row"))},[(p(!0),m(L,null,k(t.options.columns,(g,v)=>(p(),m("div",{class:I(`form-area area0${v}`)},[n("div",Ye,[a(P,{placement:"bottom",width:220,trigger:"manual",visible:s.popoverState.visible&&s.popoverState.type==="col"&&s.popoverState.index===v},{reference:f(()=>[n("button",{class:"size-edit-button",onClick:h=>r.openEditPopover("col",v)},[a(d,null,{default:f(()=>[a(o)]),_:1}),n("span",null,w(g.size)+w(g.units),1)],8,Xe)]),default:f(()=>[n("div",Be,[e[8]||(e[8]=n("div",{class:"popover-header"},"列尺寸设置",-1)),n("div",Ne,[n("div",qe,[e[4]||(e[4]=n("label",null,"数值：",-1)),a(y,{modelValue:s.popoverState.tempSize,"onUpdate:modelValue":e[0]||(e[0]=h=>s.popoverState.tempSize=h),min:0,disabled:s.popoverState.tempUnits==="auto",size:"small"},null,8,["modelValue","disabled"])]),n("div",We,[e[5]||(e[5]=n("label",null,"单位：",-1)),a(H,{modelValue:s.popoverState.tempUnits,"onUpdate:modelValue":e[1]||(e[1]=h=>s.popoverState.tempUnits=h),size:"small"},{default:f(()=>[a(u,{label:"auto",value:"auto"}),a(u,{label:"%",value:"%"}),a(u,{label:"em",value:"em"}),a(u,{label:"rem",value:"rem"}),a(u,{label:"fr",value:"fr"}),a(u,{label:"px",value:"px"}),a(u,{label:"vw",value:"vw"})]),_:1},8,["modelValue"])])]),n("div",Ke,[a(E,{size:"small",onClick:r.cancelEdit},{default:f(()=>[...e[6]||(e[6]=[b("取消",-1)])]),_:1},8,["onClick"]),a(E,{size:"small",type:"primary",onClick:r.confirmEdit},{default:f(()=>[...e[7]||(e[7]=[b("确定",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["visible"]),t.options.columns.length>1?(p(),m("button",{key:0,class:"input__button input__button--remove",onClick:h=>s.util.removeColumn(t.options,g)}," ╳ ",8,Fe)):A("",!0)])],2))),256))],4),n("div",{class:"grid-edit-col-container",style:_(r.getGridContainerStyle("col"))},[(p(!0),m(L,null,k(t.options.rows,(g,v)=>(p(),m("div",{class:I(`form-area area${v}0`)},[n("div",Je,[a(P,{placement:"right",width:220,trigger:"manual",visible:s.popoverState.visible&&s.popoverState.type==="row"&&s.popoverState.index===v},{reference:f(()=>[n("button",{class:"size-edit-button",onClick:h=>r.openEditPopover("row",v)},[a(d,null,{default:f(()=>[a(o)]),_:1}),n("span",null,w(g.size)+w(g.units),1)],8,Ze)]),default:f(()=>[n("div",Qe,[e[13]||(e[13]=n("div",{class:"popover-header"},"行尺寸设置",-1)),n("div",ei,[n("div",ii,[e[9]||(e[9]=n("label",null,"数值：",-1)),a(y,{modelValue:s.popoverState.tempSize,"onUpdate:modelValue":e[2]||(e[2]=h=>s.popoverState.tempSize=h),min:0,disabled:s.popoverState.tempUnits==="auto",size:"small"},null,8,["modelValue","disabled"])]),n("div",ti,[e[10]||(e[10]=n("label",null,"单位：",-1)),a(H,{modelValue:s.popoverState.tempUnits,"onUpdate:modelValue":e[3]||(e[3]=h=>s.popoverState.tempUnits=h),size:"small"},{default:f(()=>[a(u,{label:"auto",value:"auto"}),a(u,{label:"%",value:"%"}),a(u,{label:"em",value:"em"}),a(u,{label:"rem",value:"rem"}),a(u,{label:"fr",value:"fr"}),a(u,{label:"px",value:"px"}),a(u,{label:"vh",value:"vh"})]),_:1},8,["modelValue"])])]),n("div",ni,[a(E,{size:"small",onClick:r.cancelEdit},{default:f(()=>[...e[11]||(e[11]=[b("取消",-1)])]),_:1},8,["onClick"]),a(E,{size:"small",type:"primary",onClick:r.confirmEdit},{default:f(()=>[...e[12]||(e[12]=[b("确定",-1)])]),_:1},8,["onClick"])])])]),_:2},1032,["visible"]),t.options.rows.length>1?(p(),m("button",{key:0,class:"input__button input__button--remove",onClick:h=>s.util.removeRow(t.options,g)}," ╳ ",8,si)):A("",!0)])],2))),256))],4),n("div",{class:"grid-container",ref:"gridContainer",style:_(s.util.gridStyle(t.options))},[this.options.editable?(p(!0),m(L,{key:1},k(t.options.areas,(g,v)=>(p(),T(V,{options:t.options,item:g,key:g.label,onDragStart:r.dragStart,onDragUpdate:r.dragUpdate,onDragEnd:r.dragEnd,onResizeStart:r.resizeStart,onResizeUpdate:r.resizeUpdate,onResizeEnd:r.resizeEnd},null,8,["options","item","onDragStart","onDragUpdate","onDragEnd","onResizeStart","onResizeUpdate","onResizeEnd"]))),128)):(p(!0),m(L,{key:0},k(t.options.areas,(g,v)=>(p(),T(V,{options:t.options,item:g,key:g.label},null,8,["options","item"]))),128)),s.dragging.item?(p(),T(V,{options:t.options,item:s.placeholder,key:"placeholder"},null,8,["options","item"])):A("",!0)],4),n("div",{class:"grid-split-line-container",style:_(r.getGridContainerStyle("total")),innerHTML:r.getGridSplitHtml()},null,12,oi)])}const K=U(He,[["render",ri],["__scopeId","data-v-77e86523"]]),li={name:"hello",components:{Editor:q,GridContainer:K},data(){const i=ee();return{store:i,option:{areas:i.areas||[],dragAreas:i.dragAreas||null,columns:i.columns&&i.columns.length>0?i.columns:[{size:1,units:"fr"},{size:1,units:"fr"},{size:1,units:"fr"}],rows:i.rows&&i.rows.length>0?i.rows:[{size:1,units:"fr"},{size:1,units:"fr"},{size:1,units:"fr"},{size:1,units:"fr"}],colGap:i.colGap||{size:16,units:"px"},rowGap:i.rowGap||{size:16,units:"px"},justify:{value:""},align:{value:""},editable:!0,padding:{top:0,right:0,bottom:0,left:0}}}},watch:{"store.areas":{handler(i){this.option.areas=i},deep:!0},"store.columns":{handler(i){this.option.columns=i},deep:!0},"store.rows":{handler(i){this.option.rows=i},deep:!0},"store.colGap":{handler(i){this.option.colGap=i}},"store.rowGap":{handler(i){this.option.rowGap=i}}},mounted(){var i;(i=this.store.areas)!=null&&i.length||(this.store.areas=[])}},ai={class:"app-layout"},di={class:"main-content"},pi={class:"grid-area layout-mode"};function ui(i,e,t,l,s,r){const o=K,d=q;return p(),m("div",ai,[e[0]||(e[0]=n("div",{class:"toolbar"},[n("div",{class:"toolbar-left"},[n("h2",null,"Grid Awesome")])],-1)),n("div",di,[n("div",pi,[a(o,{options:s.option},null,8,["options"])]),a(d,{options:s.option,class:"right-editor"},null,8,["options"])])])}const hi=U(li,[["render",ui],["__scopeId","data-v-b65678e5"]]);export{hi as default};
