<!--
 * @Author: xiaoming 644210375@qq.com
 * @Date: 2022-05-17 19:50:54
 * @LastEditors: xiaoming 644210375@qq.com
 * @LastEditTime: 2022-05-18 08:24:28
 * @FilePath: \my-hexo-theme-matery\themes\hexo-theme-matery\source\pages\ajax内存泄漏示例\index.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>ajax内存泄漏示例</title>
  </head>

  <body>
    <button id="btn">请求图片</button>
    <script src="../../js/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        //   //   内存不溢出
        //   var getImage = function () {
        //     $.ajax({
        //       url:
        //         "https://cpwebassets.codepen.io/assets/settings/algolia-9e1c0c887f4db420704b2a79926864019ef156bcecc9d5774a7e4eaa731fc5b5.svg",
        //       success: function (result) {
        //         result;
        //       },
        //     //   complete: function (xhr) {
        //     //     xhr = null;
        //     //   }
        //     });
        //     return false;
        //   };
        // //   $("#btn").on("click", getImage);
        // $("#btn").on("click", function (e) {
        //   getImage();
        //   return false; // event.stopPropagation()、event.preventDefault()、打断执行
        // });
        //   // 内存不溢出
        //   $("#btn").on("click", function () {
        //     $.ajax({
        //       url:
        //         "https://cpwebassets.codepen.io/assets/settings/algolia-9e1c0c887f4db420704b2a79926864019ef156bcecc9d5774a7e4eaa731fc5b5.svg",
        //       success: function (result) {
        //         result;
        //       },
        //     //   complete: function (xhr) {
        //     //     xhr = null;
        //     //   }
        //     });
        //   });
        //   // 内存溢出
        //   setInterval(function () {
        //     $.ajax({
        //       url:
        //         "https://cpwebassets.codepen.io/assets/settings/algolia-9e1c0c887f4db420704b2a79926864019ef156bcecc9d5774a7e4eaa731fc5b5.svg",
        //       success: function (result) {
        //         result;
        //       }
        //     });
        //   }, 200);
        //   // 内存不溢出
        //   setInterval(function () {
        //     $.ajax({
        //       url:
        //         "https://cpwebassets.codepen.io/assets/settings/algolia-9e1c0c887f4db420704b2a79926864019ef156bcecc9d5774a7e4eaa731fc5b5.svg",
        //       success: function (result) {
        //         result;
        //       },
        //       complete: function (xhr) {
        //         xhr = null;
        //       }
        //     });
        //   }, 200);
      });
    </script>
  </body>
</html>
